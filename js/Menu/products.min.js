"use strict";$(document).ready(function(){var b=null;var a=false;$('[data-modal="new_menu_product"]').modal().onCancel(function(){b=null;a=false;clean_form($('form[name="new_menu_product"]'))});$('form[name="new_menu_product"]').on("submit",function(f){f.preventDefault();var c=$(this);var d=new FormData(c[0]);if(a==false){d.append("action","new_menu_product")}else{if(a==true){d.append("id",b);d.append("action","edit_menu_product")}}$.ajax({type:"POST",data:d,contentType:false,processData:false,cache:false,dataType:"json",success:function(e){if(e.status=="success"){show_modal_success(e.message,1500)}else{if(e.status=="error"){show_form_errors(c,e)}}}})});$('[data-action="edit_menu_product"]').on("click",function(){b=$(this).data("id");a=true;$.ajax({type:"POST",data:"id="+b+"&action=get_menu_product",processData:false,cache:false,dataType:"json",success:function(c){if(c.status=="success"){$('[name="name_es"]').val(c.data.name.es);$('[name="name_en"]').val(c.data.name.en);$('[name="description_es"]').val(c.data.description.es);$('[name="description_en"]').val(c.data.description.en);$('[name="price"]').val(c.data.price);$('[name="avatar"]').parents("[data-uploader]").find("[data-preview] > img").attr("src",((c.data.avatar)?"../uploads/"+c.data.avatar:"../images/empty.png"));$.each(c.data.categories,function(d,e){$('[name="categories[]"][value="'+e+'"]').prop("checked",true)});$('[name="outstanding"]').val(c.data.outstanding);$('[name="restaurant"]').val(c.data.restaurant);required_focus("form",$('form[name="new_menu_product"]'),null);$('[data-modal="new_menu_product"]').addClass("view")}else{if(c.status=="error"){show_modal_error(c.message)}}}})});$('[data-action="deactivate_menu_product"]').on("click",function(){b=$(this).data("id");$('[data-modal="deactivate_menu_product"]').addClass("view")});$('[data-modal="deactivate_menu_product"]').modal().onSuccess(function(){$.ajax({type:"POST",data:"id="+b+"&action=deactivate_menu_product",processData:false,cache:false,dataType:"json",success:function(c){if(c.status=="success"){show_modal_success(c.message,1500)}else{if(c.status=="error"){show_modal_error(c.message)}}}})});$('[data-action="activate_menu_product"]').on("click",function(){b=$(this).data("id");$('[data-modal="activate_menu_product"]').addClass("view")});$('[data-modal="activate_menu_product"]').modal().onSuccess(function(){$.ajax({type:"POST",data:"id="+b+"&action=activate_menu_product",processData:false,cache:false,dataType:"json",success:function(c){if(c.status=="success"){show_modal_success(c.message,1500)}else{if(c.status=="error"){show_modal_error(c.message)}}}})});$('[data-action="delete_menu_product"]').on("click",function(){b=$(this).data("id");$('[data-modal="delete_menu_product"]').addClass("view")});$('[data-modal="delete_menu_product"]').modal().onSuccess(function(){$.ajax({type:"POST",data:"id="+b+"&action=delete_menu_product",processData:false,cache:false,dataType:"json",success:function(c){if(c.status=="success"){show_modal_success(c.message,1500)}else{if(c.status=="error"){show_modal_error(c.message)}}}})})});
"use strict";$(document).ready(function(){$('[data-action="filter_menu_products_by_category"]').on("click",function(){$.ajax({type:"POST",data:"id="+$(this).data("id")+"&action=filter_menu_products_by_category",processData:false,cache:false,dataType:"json",success:function(a){if(a.status=="success"){$("[data-menu-products]").html(a.html)}else{if(a.status=="error"){show_modal_error(a.message)}}}})});$('[data-action="preview_menu_product"]').on("click",function(){$.ajax({type:"POST",data:"id="+$(this).data("id")+"&action=preview_menu_product",processData:false,cache:false,dataType:"json",success:function(a){if(a.status=="success"){$('[data-modal="preview_menu_product"]').find("main > figure > img").attr("src",((a.data.avatar)?"../uploads/"+a.data.avatar:"../images/food.png"));$('[data-modal="preview_menu_product"]').find("main > h2").html(a.data.name);$('[data-modal="preview_menu_product"]').find("main > span").html(a.data.price);$('[data-modal="preview_menu_product"]').find("main > p").html(a.data.description);$('[data-modal="preview_menu_product"]').addClass("view")}else{if(a.status=="error"){show_modal_error(a.message)}}}})});$(document).on("click",'[data-action="remove_to_menu_order"]',function(){var a=$(this);$.ajax({type:"POST",data:"id="+$(this).data("id")+"&action=remove_to_menu_order",processData:false,cache:false,dataType:"json",success:function(b){if(b.status=="success"){a.parent().find("span").html(b.data.quantity);$("[data-total] > span").html(b.data.total)}else{if(b.status=="error"){show_modal_error(b.message)}}}})});$(document).on("click",'[data-action="add_to_menu_order"]',function(){var a=$(this);$.ajax({type:"POST",data:"id="+$(this).data("id")+"&action=add_to_menu_order",processData:false,cache:false,dataType:"json",success:function(b){if(b.status=="success"){a.parent().find("span").html(b.data.quantity);$("[data-total] > span").html(b.data.total)}else{if(b.status=="error"){show_modal_error(b.message)}}}})});$(document).on("click",'[data-action="delete_to_menu_order"]',function(){var a=$(this);$.ajax({type:"POST",data:"id="+$(this).data("id")+"&action=delete_to_menu_order",processData:false,cache:false,dataType:"json",success:function(b){if(b.status=="success"){a.parent().parent().remove();$("[data-total] > span").html(b.data.total)}else{if(b.status=="error"){show_modal_error(b.message)}}}})});$('[name="type_service"]').on("change",function(){if($(this).val()=="restaurant"){$('[name="owner"]').parent().parent().parent().removeClass("hidden");$('[name="address"]').parent().parent().parent().addClass("hidden");$('[name="firstname"]').parent().parent().parent().addClass("hidden");$('[name="lastname"]').parent().parent().parent().addClass("hidden");$('[name="email"]').parent().parent().parent().addClass("hidden");$('[name="phone_lada"]').parent().parent().parent().addClass("hidden");$('[name="phone_number"]').parent().parent().parent().addClass("hidden")}else{if($(this).val()=="home"){$('[name="owner"]').parent().parent().parent().addClass("hidden");$('[name="address"]').parent().parent().parent().removeClass("hidden");$('[name="firstname"]').parent().parent().parent().removeClass("hidden");$('[name="lastname"]').parent().parent().parent().removeClass("hidden");$('[name="email"]').parent().parent().parent().removeClass("hidden");$('[name="phone_lada"]').parent().parent().parent().removeClass("hidden");$('[name="phone_number"]').parent().parent().parent().removeClass("hidden")}}required_focus("form",$('form[name="new_menu_order"]'),null)});$('[name="owner"]').on("change",function(){$.ajax({type:"POST",data:"owner="+$(this).val()+"&action=get_owner",processData:false,cache:false,dataType:"json",success:function(a){}})});$('form[name="new_menu_order"]').on("submit",function(b){b.preventDefault();var a=$(this);$.ajax({type:"POST",data:a.serialize()+"&action=new_menu_order",processData:false,cache:false,dataType:"json",success:function(c){if(c.status=="success"){show_modal_success(c.message,8000,c.path)}else{if(c.status=="error"){show_form_errors(a,c)}}}})})});